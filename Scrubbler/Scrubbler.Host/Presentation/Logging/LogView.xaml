<UserControl
    x:Class="Scrubbler.Host.Presentation.Logging.LogView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:models="using:Scrubbler.Host.Models"
    xmlns:helper="using:Scrubbler.Host.Helper"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <UserControl.Resources>
        <helper:LogLevelToBrushConverter x:Key="LogLevelToBrushConverter"/>
    </UserControl.Resources>

    <Grid RowDefinitions="Auto,*">
        <!-- Header row -->
        <Grid ColumnDefinitions="150,80,120,*" Background="#222" Padding="4" Row="0">
            <TextBlock Text="Timestamp" Foreground="LightGray" FontWeight="Bold"/>
            <TextBlock Text="Level" Grid.Column="1" Foreground="LightGray" FontWeight="Bold" HorizontalAlignment="Center"/>
            <TextBlock Text="Module" Grid.Column="2" Foreground="LightGray" FontWeight="Bold"/>
            <TextBlock Text="Message" Grid.Column="3" Foreground="LightGray" FontWeight="Bold"/>
        </Grid>

        <!-- Log entries -->
        <ListView ItemsSource="{Binding Entries}" Grid.Row="1">
            <ListView.ItemTemplate>
                <DataTemplate x:DataType="models:LogMessage">
                    <Grid ColumnDefinitions="150,80,120,*" Padding="4">
                        <!-- Timestamp -->
                        <TextBlock Text="{x:Bind Timestamp, Mode=OneWay}"
                                   Foreground="Gray"
                                   FontSize="12"/>

                        <!-- Level -->
                        <TextBlock Text="{x:Bind Level, Mode=OneWay}"
                                   Grid.Column="1"
                                   FontWeight="Bold"
                                   HorizontalAlignment="Center"
                                   Foreground="{x:Bind Level, Converter={StaticResource LogLevelToBrushConverter}}"/>

                        <!-- Module -->
                        <TextBlock Text="{x:Bind Module, Mode=OneWay}"
                                   Grid.Column="2"
                                   Foreground="LightBlue"
                                   FontStyle="Italic"/>

                        <!-- Message -->
                        <TextBlock Text="{x:Bind Message, Mode=OneWay}"
                                   Grid.Column="3"
                                   TextWrapping="WrapWholeWords"
                                   Foreground="White"/>
                    </Grid>
                </DataTemplate>
            </ListView.ItemTemplate>
        </ListView>
    </Grid>
</UserControl>
